import{r as l,j as e,a as Ba,b as R,t as Ua,c as Ha,d as De,e as Va,J as Ka,$ as He,f as Ve,g as Ke,C as Ya,h as Ye,i as We,k as Wa,l as Ga,m as Xa,n as Ge,o as Xe,p as Ze,q as Za,s as qa,u as qe,v as Ja,w as Qa,x as Je,y as es,z as Qe,A as ea,B as aa,D as as,E as ke,F as ss,G as sa,H as Ie,P as ts,I as ta,R as ns,T as ls,K as rs,L as na,M as la,N as Le,O as ie,Q as Te,S as xe,U as ra,V as oa,W as os,X as ca,Y as ia,Z as da,_ as ma,a0 as xa,a1 as cs,a2 as ua,a3 as fa,a4 as is,a5 as ds,a6 as ha,a7 as ve,a8 as we,a9 as be,aa as Ne,ab as Ce,ac as $e,ad as ms,ae as xs,af as us,ag as fs,ah as pa,ai as hs,aj as ps,ak as ja,al as js,am as ga,an as gs,ao as ys,ap as ya,aq as vs,ar as va,as as wa,at as ws,au as bs,av as ba,aw as Ns,ax as Cs,ay as $s,az as Na,aA as Ca,aB as Ds,aC as ks,aD as Is,aE as Ts,aF as Ss,aG as As,aH as _s}from"./vendor-DRzx7iff.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const C of u.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&r(C)}).observe(document,{childList:!0,subtree:!0});function t(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=t(i);fetch(i.href,u)}})();const B=l.createContext();function Ps({children:a,...s}){const[t,r]=l.useState(!1),[i,u]=l.useState(!0),[C,N]=l.useState(null),[w,b]=l.useState(null),[A,x]=l.useState(!1),[f,_]=l.useState({code:"USD",symbol:"$",name:"United States Dollar"}),[c,n]=l.useState({height:window.innerHeight,width:window.innerWidth}),g="https://crunchcat.bardiamadani.com",M={headers:{"Content-Type":"application/json","X-User-Timezone":Intl.DateTimeFormat().resolvedOptions().timeZone},withCredentials:!0};return l.useEffect(()=>{async function y(){const j=Ba.get("profile_id");if(j){N(j);try{const v=await R.get(g+`/api/profile/read-profile/${j}`,M);b(v.data.data),_(v.data.data.currency),console.log("UserData available",v.data.data)}catch(v){console.error("Error fetching data:",v),b(null)}}else console.warn("Profile ID not found in cookies"),b(null);u(!1)}const k=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",k),y(),()=>{window.removeEventListener("resize",k)}},[]),e.jsx(B.Provider,{...s,value:{userId:C,setUserId:N,userData:w,apiUrl:g,config:M,mainLoading:i,update:t,setUpdate:r,setUserData:b,dialogIsOpen:A,setDialogIsOpen:x,setCurrency:_,currency:f,dims:c},children:a})}function h(...a){return Ua(Ha(a))}const Ms=De("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function F({className:a,variant:s,...t}){return e.jsx("div",{className:h(Ms({variant:s}),a),...t})}const zs=({...a})=>{const{theme:s="system"}=Va();return e.jsx(Ka,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...a})};function V({className:a,...s}){return e.jsx("div",{className:h("animate-pulse rounded-md bg-primary/10",a),...s})}const W=Ga,G=Xa,Fs=Wa,H=Ke,$a=l.forwardRef(({className:a,...s},t)=>e.jsx(He,{ref:t,className:h("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s}));$a.displayName=He.displayName;const K=l.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(Fs,{children:[e.jsx($a,{}),e.jsxs(Ve,{ref:r,className:h("fixed left-[50%] top-[50%] z-50 grid w-full max-w-xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...t,children:[s,e.jsxs(Ke,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ya,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));K.displayName=Ve.displayName;const X=({className:a,...s})=>e.jsx("div",{className:h("flex flex-col space-y-1.5 text-center sm:text-left",a),...s});X.displayName="DialogHeader";const Da=({className:a,...s})=>e.jsx("div",{className:h("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s});Da.displayName="DialogFooter";const Z=l.forwardRef(({className:a,...s},t)=>e.jsx(Ye,{ref:t,className:h("text-lg font-semibold leading-none tracking-tight",a),...s}));Z.displayName=Ye.displayName;const ue=l.forwardRef(({className:a,...s},t)=>e.jsx(We,{ref:t,className:h("text-sm text-muted-foreground",a),...s}));ue.displayName=We.displayName;const ka=Za,Se=l.forwardRef(({className:a,...s},t)=>e.jsx(Ge,{ref:t,className:h("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...s}));Se.displayName=Ge.displayName;const Ae=l.forwardRef(({className:a,...s},t)=>e.jsx(Xe,{ref:t,className:h("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...s}));Ae.displayName=Xe.displayName;const Rs=l.forwardRef(({className:a,...s},t)=>e.jsx(Ze,{ref:t,className:h("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s}));Rs.displayName=Ze.displayName;const J=l.forwardRef(({className:a,type:s,...t},r)=>e.jsx("input",{type:s,className:h("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...t}));J.displayName="Input";const he=De("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),O=l.forwardRef(({className:a,variant:s,size:t,asChild:r=!1,...i},u)=>{const C=r?qa:"button";return e.jsx(C,{className:h(he({variant:s,size:t,className:a})),ref:u,...i})});O.displayName="Button";const L=l.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(qe,{ref:r,className:h("relative overflow-hidden",a),...t,children:[e.jsx(Ja,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(je,{}),e.jsx(Qa,{})]}));L.displayName=qe.displayName;const je=l.forwardRef(({className:a,orientation:s="vertical",...t},r)=>e.jsx(Je,{ref:r,orientation:s,className:h("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...t,children:e.jsx(es,{className:"relative flex-1 rounded-full bg-border"})}));je.displayName=Je.displayName;const Ls=De("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),S=l.forwardRef(({className:a,...s},t)=>e.jsx(Qe,{ref:t,className:h(Ls(),a),...s}));S.displayName=Qe.displayName;const le=l.forwardRef(({className:a,...s},t)=>e.jsx(ea,{className:h("grid gap-2",a),...s,ref:t}));le.displayName=ea.displayName;const P=l.forwardRef(({className:a,...s},t)=>e.jsx(aa,{ref:t,className:h("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(as,{className:"flex items-center justify-center",children:e.jsx(ke,{className:"h-3.5 w-3.5 fill-primary"})})}));P.displayName=aa.displayName;function fe({className:a,classNames:s,showOutsideDays:t=!0,...r}){return e.jsx(ss,{showOutsideDays:t,className:h("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:h(he({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:h("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:h(he({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50  aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({...i})=>e.jsx(sa,{className:"h-4 w-4"}),IconRight:({...i})=>e.jsx(Ie,{className:"h-4 w-4"})},...r})}fe.displayName="Calendar";const _e=l.forwardRef(({className:a,...s},t)=>e.jsx("textarea",{className:h("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s}));_e.displayName="Textarea";const Pe=ns,Me=ls,ge=l.forwardRef(({className:a,align:s="center",sideOffset:t=4,...r},i)=>e.jsx(ts,{children:e.jsx(ta,{ref:i,align:s,sideOffset:t,className:h("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}));ge.displayName=ta.displayName;function Es(){const{apiUrl:a,setUpdate:s,config:t,userData:r,userId:i,dialogIsOpen:u,setDialogIsOpen:C}=l.useContext(B),[N,w]=l.useState(!1),[b,A]=l.useState(!0),[x,f]=l.useState({userId:i,_id:"",accountId:"",toAccountId:"",fromAccountId:"",type:"expense",categoryId:"",amount:0,date:new Date,description:""});l.useEffect(()=>{A(!0),r&&r.accounts.length>0&&r.categories.length>0&&(f({userId:i,accountId:r.accounts.length>0?r.accounts[0]._id:"",toAccountId:"",fromAccountId:"",type:"expense",categoryId:r.categories.length>0?r.categories[0]._id:"",amount:0,date:new Date,description:""}),A(!1))},[r]);async function _(){try{if(i&&(x.categoryId!==""||x.toAccountId!=="")&&x.accountId!==""&&x.amount!==0){const c=await R.post(a+"/api/transaction/create",x,t);f({userId:i,accountId:r.accounts.length>0?r.accounts[0]._id:"",toAccountId:"",fromAccountId:"",type:"expense",categoryId:r.categories.length>0?r.categories[0]._id:"",amount:0,date:new Date,description:""}),s(n=>!n),Le("Event has been created",{description:`Your ${c.data.data.type} was ${c.data.data.amount}$ on ${c.data.data.date.split("T")[0]}`,action:{label:"Undo",onClick:()=>console.log("Undo")}})}else Le("Error creating the transaction",{}),console.log("Missing Data")}catch(c){console.error("Error adding category:",c)}}return b?e.jsx(V,{className:"w-[180px] h-[40px]"}):e.jsxs(W,{onOpenChange:c=>C(c),className:"h-[90%] max-w-[320px] md:max-w-lg lg:max-w-2xl",children:[!u&&e.jsx(G,{as:"button",className:"w-[50px] md:w-[200px] h-[50px]",children:e.jsxs(F,{className:"w-full h-full flex justify-center items-center rounded-xl p-2",children:[e.jsx(rs,{className:"md:mr-1 h-6 w-6"}),e.jsx("p",{className:"text-lg font-semibold m-0 hidden md:block",children:"Add Transaction"})]})}),e.jsxs(K,{className:"h-[90%] max-w-[320px] md:max-w-lg lg:max-w-2xl min-h-[610px]",children:[r.accounts.length>0?e.jsx(ka,{defaultValue:x.accountId,className:"h-[80%] w-full max-w-[275px] md:max-w-lg lg:max-w-2xl",children:e.jsxs(L,{className:"h-[50px] w-full p-1",children:[e.jsx(Se,{className:"flex justify-center items-center",children:e.jsx("div",{className:"flex flex-row justify-between",children:r.accounts.map((c,n)=>e.jsx(Ae,{name:"account",value:c._id,className:"ml-1 mr-1",style:{color:c.accountColor},onClick:()=>{f(g=>({...g,accountId:c._id}))},children:c.accountTitle},n))})}),e.jsx(je,{orientation:"horizontal"})]})}):e.jsx("div",{children:"You don't have any account, you must have at least one"}),e.jsxs("div",{className:"h-full w-full md:m-2 flex flex-col items-center justify-between",children:[e.jsx("div",{className:"mb-2 md:m-2 flex justify-center items-center",children:e.jsx(J,{style:{fontSize:"30px",textAlign:"center"},className:"flex justify-center align-center w-[250px] md:w-8/12 h-[70px]",type:"number",min:"0",placeholder:"Transaction Amount",name:"amount",value:x.amount,onChange:c=>{f(n=>({...n,amount:c.target.value}))}})}),e.jsx("div",{className:"block md:hidden",children:e.jsxs(Pe,{open:N,onOpenChange:w,modal:!0,children:[e.jsx(Me,{className:"w-full",asChild:!0,children:e.jsxs(O,{variant:"outline",className:h("w-full justify-start text-left font-normal",!x.date&&"text-muted-foreground"),children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),x.date?la(x.date,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(ge,{className:"w-auto p-0",align:"start",children:e.jsx(fe,{mode:"single",selected:x.date,name:"date",disabled:c=>c>new Date||c<new Date("1900-01-01"),onSelect:c=>{c.setHours(12),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),f(n=>({...n,date:c}))},className:"rounded-md border h-full w-full"})})]})}),e.jsxs("div",{className:"flex flex-row justify-center sm:justify-between items-start md:mt-10 mt-2",children:[e.jsxs("div",{className:"flex flex-col justify-start items-start",children:[e.jsx("div",{className:"flex items-center m-2 ml-1",children:e.jsxs(le,{name:"type",defaultValue:x.type,className:"flex flex-row lg:flex-row md:flex-col lg:items-center items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"expense",id:"expense",onClick:()=>{f(c=>({...c,type:"expense"}))}}),e.jsx(S,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"income",id:"income",onClick:()=>{f(c=>({...c,type:"income"}))}}),e.jsx(S,{htmlFor:"income",children:"Income"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"transfer",id:"transfer",onClick:()=>{f(c=>({...c,type:"transfer"}))}}),e.jsx(S,{htmlFor:"transfer",children:"Transfer"})]})]})}),e.jsx(L,{className:"lg:h-[298px] lg:w-[231.36px] md:w-[150px] md:h-[240px] h-[180px] w-full rounded-md border px-2 pt-2 md:px-4 md:pt-4 mr-6",children:e.jsx(le,{name:"category",defaultValue:x.categoryId,children:r.categories.length>0?x.type==="expense"?r.categories.map((c,n)=>{if(c.categoryType==="expense")return e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[e.jsx(P,{style:{backgroundColor:c.categoryColor},className:"w-5 h-5 mr-2",name:"category",value:c._id,id:n,onClick:()=>{f(g=>({...g,categoryId:c._id,toAccountId:"",fromAccountId:""}))}}),e.jsx(S,{htmlFor:n,className:"bg:text-lg",children:c.categoryTitle})]},n)}):x.type==="income"?r.categories.map((c,n)=>{if(c.categoryType==="income")return e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[e.jsx(P,{style:{backgroundColor:c.categoryColor},className:"w-5 h-5 mr-2",name:"category",value:c._id,id:n,onClick:()=>{f(g=>({...g,categoryId:c._id,toAccountId:"",fromAccountId:""}))}}),e.jsx(S,{htmlFor:n,className:"bg:text-lg",children:c.categoryTitle})]},n)}):x.type==="transfer"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:"Transfer to Account"}),r.accounts.map((c,n)=>e.jsx("div",{className:"flex flex-row items-center justify-start",children:c._id===x.accountId?e.jsxs(e.Fragment,{children:[e.jsx(P,{style:{backgroundColor:c.accountColor},disabled:!0,className:"w-5 h-5 mr-2",name:"account",value:c._id,id:n,onClick:()=>{f(g=>({...g,toAccountId:c._id,fromAccountId:""}))}}),e.jsx(S,{htmlFor:n,className:"bg:text-lg text-gray-600",children:c.accountTitle})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{style:{backgroundColor:c.accountColor},className:"w-5 h-5 mr-2",name:"account",value:c._id,id:n,onClick:()=>{f(g=>({...g,toAccountId:c._id,fromAccountId:""}))}}),e.jsx(S,{htmlFor:n,className:"bg:text-lg",children:c.accountTitle})]})},n))]}):e.jsx("div",{children:"Nothing to SHow Here ..."}):e.jsx("div",{children:"You don't have any categories"})})})]}),e.jsx("div",{className:"lg:m-2 hidden md:block",children:e.jsx(fe,{mode:"single",selected:x.date,name:"date",disabled:c=>c>new Date||c<new Date("1900-01-01"),onSelect:c=>{c.setHours(12),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),f(n=>({...n,date:c}))},className:"rounded-md border h-[322px] w-[250px]"})})]}),e.jsxs("div",{className:"lg:w[450px] w-full flex flex-col items-center mt-4",children:[e.jsx(S,{className:"mb-2 ml-1",children:"Description"}),e.jsx(_e,{className:"w-full h-[70px]",name:"description",placeholder:"Enter more details here.",value:x.description,onChange:c=>{f(n=>({...n,description:c.target.value}))}})]}),e.jsx("div",{className:"flex justify-center align-center m-2 mt-7",children:e.jsx(O,{variant:"default",onClick:()=>{_()},children:"Submit"})})]})]}),e.jsx(zs,{})]})}const ee=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:h("rounded-xl border bg-card text-card-foreground shadow",a),...s}));ee.displayName="Card";const ae=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:h("flex flex-col space-y-1.5 p-6",a),...s}));ae.displayName="CardHeader";const se=l.forwardRef(({className:a,...s},t)=>e.jsx("h3",{ref:t,className:h("font-semibold leading-none tracking-tight",a),...s}));se.displayName="CardTitle";const Os=l.forwardRef(({className:a,...s},t)=>e.jsx("p",{ref:t,className:h("text-sm text-muted-foreground",a),...s}));Os.displayName="CardDescription";const te=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:h("p-6 pt-0",a),...s}));te.displayName="CardContent";const Bs=l.forwardRef(({className:a,...s},t)=>e.jsx("div",{ref:t,className:h("flex items-center p-6 pt-0",a),...s}));Bs.displayName="CardFooter";function Us(){const{update:a,userData:s,currency:t}=l.useContext(B),{balanceData:r}=l.useContext(Re),[i,u]=l.useState(!0);return l.useEffect(()=>{u(!0),s&&r&&u(!1)},[s,r,a]),i?e.jsx(V,{className:"w-full h-full"}):e.jsxs(ee,{className:"w-full h-full flex flex-col align-stretch justify-stretch",children:[e.jsx(ae,{className:"flex align-start justify-start",children:e.jsx(se,{className:"flex flex-row align-center justify-between",children:"Total Balance"})}),e.jsx(te,{className:"w-full h-full flex justify-center items-center font-bold",children:r.totalBalance>0?e.jsxs("p",{className:"lg:text-5xl lg:font-semibold text-3xl",style:{color:"#25ff1dbd"},children:[r.totalBalance.toLocaleString()," ",t.symbol]}):e.jsxs("p",{className:"lg:text-5xl lg:font-semibold text-3xl",style:{color:"#ff1d1dbd"},children:[r.totalBalance.toLocaleString()," ",t.symbol]})})]})}function Hs(){const{update:a,userData:s,currency:t}=l.useContext(B),{balanceData:r}=l.useContext(Re),[i,u]=l.useState(!0);return l.useEffect(()=>{u(!0),s&&r&&u(!1)},[s,r,a]),i?e.jsx(V,{className:"w-[380px] h-[165px]"}):e.jsxs(ee,{className:"w-full h-full flex flex-col items-center",children:[e.jsx(ae,{className:"w-full flex align-start justify-start",children:e.jsx(se,{className:"flex flex-row align-center justify-between",children:"Income, Expense Balance"})}),e.jsxs(te,{className:"h-full w-full sm:w-[90%] flex flex-row justify-between items-center",children:[e.jsxs("div",{className:"w-[40%] flex flex-col justify-center items-center mr-10",children:[e.jsxs("p",{className:"font-semibold text-lg mb-5",style:{color:"#25ff1dbd"},children:[r.totalIncome.toLocaleString()," ",t.symbol]}),e.jsxs("p",{className:"font-semibold text-lg",style:{color:"#ff1d1dbd"},children:[r.totalExpense.toLocaleString()," ",t.symbol]})]}),e.jsx("div",{className:"w-[60%] h-[80px]",children:e.jsx(ie,{width:"100%",height:"100%",children:e.jsxs(Te,{data:[{name:"balance",expense:r.totalExpense,income:r.totalIncome}],children:[e.jsx(xe,{dataKey:"expense",fill:"#ff1d1dbd"}),e.jsx(xe,{dataKey:"income",fill:"#25ff1dbd"})]})})})]})]})}const re=is,oe=ds,Vs=l.forwardRef(({className:a,inset:s,children:t,...r},i)=>e.jsxs(ra,{ref:i,className:h("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...r,children:[t,e.jsx(Ie,{className:"ml-auto h-4 w-4"})]}));Vs.displayName=ra.displayName;const Ks=l.forwardRef(({className:a,...s},t)=>e.jsx(oa,{ref:t,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s}));Ks.displayName=oa.displayName;const Q=l.forwardRef(({className:a,sideOffset:s=4,...t},r)=>e.jsx(os,{children:e.jsx(ca,{ref:r,sideOffset:s,className:h("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t})}));Q.displayName=ca.displayName;const Y=l.forwardRef(({className:a,inset:s,...t},r)=>e.jsx(ia,{ref:r,className:h("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...t}));Y.displayName=ia.displayName;const Ys=l.forwardRef(({className:a,children:s,checked:t,...r},i)=>e.jsxs(da,{ref:i,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:t,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ma,{children:e.jsx(ke,{className:"h-4 w-4"})})}),s]}));Ys.displayName=da.displayName;const Ws=l.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(xa,{ref:r,className:h("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ma,{children:e.jsx(cs,{className:"h-4 w-4 fill-current"})})}),s]}));Ws.displayName=xa.displayName;const de=l.forwardRef(({className:a,inset:s,...t},r)=>e.jsx(ua,{ref:r,className:h("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...t}));de.displayName=ua.displayName;const Gs=l.forwardRef(({className:a,...s},t)=>e.jsx(fa,{ref:t,className:h("-mx-1 my-1 h-px bg-muted",a),...s}));Gs.displayName=fa.displayName;const pe=[{name:"gray 300",value:"#d2d6dc"},{name:"gray 400",value:"#9fa6b2"},{name:"gray 500",value:"#6b7280"},{name:"gray 600",value:"#4b5563"},{name:"gray 700",value:"#374151"},{name:"gray 800",value:"#1f2937"},{name:"gray 900",value:"#111827"},{name:"red 300",value:"#fca5a5"},{name:"red 400",value:"#f87171"},{name:"red 500",value:"#ef4444"},{name:"red 600",value:"#dc2626"},{name:"red 700",value:"#b91c1c"},{name:"red 800",value:"#991b1b"},{name:"red 900",value:"#7f1d1d"},{name:"yellow 300",value:"#fcd34d"},{name:"yellow 400",value:"#fbbf24"},{name:"yellow 500",value:"#f59e0b"},{name:"yellow 600",value:"#d97706"},{name:"yellow 700",value:"#b45309"},{name:"yellow 800",value:"#92400e"},{name:"yellow 900",value:"#78350f"},{name:"green 300",value:"#6ee7b7"},{name:"green 400",value:"#34d399"},{name:"green 500",value:"#10b981"},{name:"green 600",value:"#059669"},{name:"green 700",value:"#047857"},{name:"green 800",value:"#065f46"},{name:"green 900",value:"#064e3b"},{name:"blue 300",value:"#93c5fd"},{name:"blue 400",value:"#60a5fa"},{name:"blue 500",value:"#3b82f6"},{name:"blue 600",value:"#2563eb"},{name:"blue 700",value:"#1d4ed8"},{name:"blue 800",value:"#1e40af"},{name:"blue 900",value:"#1e3a8a"},{name:"indigo 300",value:"#a5b4fc"},{name:"indigo 400",value:"#818cf8"},{name:"indigo 500",value:"#6366f1"},{name:"indigo 600",value:"#4f46e5"},{name:"indigo 700",value:"#4338ca"},{name:"indigo 800",value:"#3730a3"},{name:"indigo 900",value:"#312e81"},{name:"purple 300",value:"#c4b5fd"},{name:"purple 400",value:"#a78bfa"},{name:"purple 500",value:"#8b5cf6"},{name:"purple 600",value:"#7c3aed"},{name:"purple 700",value:"#6d28d9"},{name:"purple 800",value:"#5b21b6"},{name:"purple 900",value:"#4c1d95"},{name:"pink 300",value:"#f9a8d4"},{name:"pink 400",value:"#f472b6"},{name:"pink 500",value:"#ec4899"},{name:"pink 600",value:"#db2777"},{name:"pink 700",value:"#be185d"},{name:"pink 800",value:"#9d174d"},{name:"pink 900",value:"#831843"}],$="b0",q=[{name:"orange 1",value:`#ffb458${$}`},{name:"orange 2",value:`#ff9c22${$}`},{name:"orange 3",value:`#ff8c00${$}`},{name:"orange 4",value:`#cc7000${$}`},{name:"green 1",value:`#c5ff79${$}`},{name:"green 2",value:`#b1ff4c${$}`},{name:"green 3",value:`#93ff05${$}`},{name:"green 4",value:`#74cc00${$}`},{name:"red 1",value:`#ff6b6b${$}`},{name:"red 2",value:`#ff4040${$}`},{name:"red 3",value:`#ff0f0f${$}`},{name:"red 4",value:`#c40d0d${$}`},{name:"yellow 1",value:`#fff678${$}`},{name:"yellow 2",value:`#fff348${$}`},{name:"yellow 3",value:`#ffee00${$}`},{name:"yellow 4",value:`#dfd000${$}`},{name:"green 5",value:`#7bffa7${$}`},{name:"green 6",value:`#49ff86${$}`},{name:"green 7",value:`#00ff55${$}`},{name:"green 8",value:`#00a537${$}`},{name:"blue 1",value:`#8be9e9${$}`},{name:"blue 2",value:`#56ebeb${$}`},{name:"blue 3",value:`#00eeee${$}`},{name:"blue 4",value:`#00cece${$}`},{name:"blue 5",value:`#6b7aff${$}`},{name:"blue 6",value:`#3546dd${$}`},{name:"blue 7",value:`#0d22e2${$}`},{name:"blue 8",value:`#0013b9${$}`},{name:"purple 1",value:`#d66fff${$}`},{name:"purple 2",value:`#c635ff${$}`},{name:"purple 3",value:`#b700ff${$}`},{name:"purple 4",value:`#8b00c2${$}`},{name:"pink 1",value:`#ff74ae${$}`},{name:"pink 2",value:`#ff3388${$}`},{name:"pink 3",value:`#ff006a${$}`},{name:"pink 4",value:`#d10057${$}`}];function Xs(){const{apiUrl:a,update:s,config:t,userData:r,setUserData:i,userId:u,dialogIsOpen:C,setDialogIsOpen:N}=l.useContext(B),[w,b]=l.useState(null),[A,x]=l.useState(!0),[f,_]=l.useState(null),[c,n]=l.useState({accountTitle:"",accountColor:pe[0].value});l.useEffect(()=>{x(!0),(async()=>{try{const v=await R.get(a+"/api/balance/timeframe-account-balance/"+u,t);if(v.status===200&&r.accounts.length>0){const d=v.data.accountsBalance.reduce((p,o)=>(p[o.accountId]={balance:o.balance},p),{}),m=r.accounts.map(p=>{const o=d[p._id];return o?{...p,...o}:{...p,balance:0}});b(m),x(!1)}else v.status===204&&x(!0)}catch(v){console.log(v),x(!1)}})()},[r,s]);async function g(){try{u&&c.accountTitle.length>0&&(await R.put(a+"/api/profile/add-account/"+u,c,t).then(j=>{i(j.data.data)}),n({accountTitle:"",accountColor:pe[0].value}))}catch(j){console.error("Error posting data:",j)}}async function D(){try{if(u&&f){const j=r.accounts.findIndex(v=>v._id===f._id);if(j!==-1)r.accounts[j]={...r.accounts[j],accountTitle:f.accountTitle,accountColor:f.accountColor};else return r;await R.put(a+"/api/profile/update-account/"+u,r,t).then(v=>{i(v.data.data)})}}catch(j){console.error("Error posting data:",j)}}async function M(j){try{u&&await R.delete(`${a}/api/profile/remove-account/${u}/?accountId=${j}`,t).then(v=>{i(v.data.data)})}catch(v){console.error("Error posting data:",v)}}const y=Math.PI/180,k=({cx:j,cy:v,midAngle:d,innerRadius:m,outerRadius:p,percent:o,index:I})=>{const T=m+(p-m)*.5,ne=j+T*Math.cos(-d*y),z=v+T*Math.sin(-d*y);return e.jsx("text",{x:ne,y:z,fill:"white",textAnchor:ne>j?"start":"end",dominantBaseline:"central",children:`${(o*100).toFixed(0)}%`})};return A?e.jsx(V,{className:"w-[641.3px] h-[340px]"}):e.jsxs(ee,{className:"w-full h-full",children:[e.jsxs("div",{className:" flex flex-row justify-between items-center mb-0",children:[e.jsx(ae,{className:"w-[50%] flex items-start",children:e.jsx(se,{children:"Accounts"})}),e.jsxs(W,{onOpenChange:j=>N(j),className:"w-[50%] flex items-end",children:[e.jsx(G,{children:e.jsx(F,{className:"w-[50px] h-[35px] mt-[15px] mr-[30px] justify-center align-center hover:bg-accent",variant:"ghost",children:e.jsx(ha,{className:"h-4 w-4"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Add New Account"})}),e.jsxs("div",{className:"flex flex-row justify-center items-center mt-[25px]",children:[e.jsxs(re,{className:"colorDiv",children:[e.jsx(oe,{children:e.jsx("div",{className:"w-8 h-7 rounded-md mr-2 colorDiv",style:{backgroundColor:c.accountColor}})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:["Current Color",e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:c.accountColor}})]})}),e.jsx(L,{className:"h-72 w-[200px] rounded-md border",children:e.jsx("div",{className:"grid grid-cols-4 gap-[1px]",children:q.length>0?q.map((j,v)=>e.jsxs(Y,{onClick:()=>n(d=>({...d,accountColor:j.value})),children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:`${j.value}`}})}),v%4===3&&e.jsx("div",{className:"w-full"})," "]},j.value)):e.jsx("div",{})})})]})]}),e.jsx(J,{className:"w-[200px]",defaultValue:c.accountTitle,placeholder:"Account Name",onChange:j=>n(v=>({...v,accountTitle:j.target.value}))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",onClick:()=>g(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Save"})})})})]})]})]}),e.jsxs(te,{style:{width:"100%",height:"250px"},className:"flex flex-row m-0",children:[e.jsx("div",{style:{width:"50%",height:"256px"},children:e.jsx(L,{className:"h-[90%] w-full overflow-hidden",children:w?w.map(j=>e.jsxs(W,{onOpenChange:v=>N(v),children:[e.jsxs(G,{onClick:()=>{_(j)},className:"flex w-full py-[10px] px-[5px] rounded-md hover:bg-accent justify-between",children:[e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{className:"flex w-6 h-6 mr-2 rounded-md colorDiv",style:{backgroundColor:`${j.accountColor}`}}),e.jsx("p",{className:"w-[60%] flex justify-start overflow-hidden whitespace-nowrap text-overflow-ellipsis",children:j.accountTitle})]}),j.balance>0?e.jsx("p",{className:"w-[40%] overflow-hidden",style:{color:"#25ff1dbd"},children:j.balance.toFixed(2)}):e.jsx("p",{className:"w-[40%] overflow-hidden",style:{color:"#ff1d1dbd"},children:j.balance.toFixed(2)})]}),f?e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsxs(X,{children:[e.jsx(Z,{children:f.accountTitle}),e.jsx(ue,{children:"Make Changes and Save"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center my-[25px]",children:[e.jsxs(re,{className:"colorDiv",children:[e.jsx(oe,{children:e.jsx("div",{className:"w-8 h-7 rounded-md mr-2 colorDiv",style:{backgroundColor:f.accountColor}})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:["Current Color",e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:f.accountColor}})]})}),e.jsx(L,{className:"h-72 w-[200px] rounded-md border",children:e.jsx("div",{className:"grid grid-cols-4 gap-[1px]",children:q.length>0?q.map((v,d)=>e.jsxs(Y,{onClick:()=>_(m=>({...m,accountColor:v.value})),children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:`${v.value}`}})}),d%4===3&&e.jsx("div",{className:"w-full"})," "]},v.value)):e.jsx("div",{})})})]})]}),e.jsx(J,{className:"w-[200px]",defaultValue:f.accountTitle,placeholder:"Account Name",onChange:v=>_(d=>({...d,accountTitle:v.target.value}))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(W,{children:[e.jsx(G,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsxs(X,{children:[e.jsxs(Z,{children:["Delete the ",f.accountTitle," ","account?"]}),e.jsxs(ue,{children:["This action cannot be undone and it will permanently delete your"," ",f.accountTitle," Account. Are you sure?"]})]}),e.jsxs("div",{className:"flex flex-row justify-end",children:[e.jsx(H,{children:e.jsx(F,{className:"w-[100px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Cancel"})})}),e.jsx(H,{children:e.jsx(F,{className:"ml-[10px] w-[100px] h-[37px] flex justify-center items-center",variant:"destructive",onClick:()=>M(f._id),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})})]})]})]}),e.jsx(H,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",onClick:()=>D(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Save"})})})]})]})]}):e.jsx(e.Fragment,{})]},j._id)):e.jsx("div",{children:"Loading..."})})}),e.jsx("div",{className:"flex justify-start align-start items-start",style:{width:"50%",height:"256px"},children:e.jsx(ie,{children:e.jsx(ve,{children:e.jsx(we,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:k,outerRadius:"200px",fill:"#8884d8",dataKey:"balance",children:w.map((j,v)=>e.jsx(be,{fill:j.accountColor},j._id))})})})})]})]})}const Ee="#25ff1dbd",Oe="#ff1d1dbd";function Zs(){const{apiUrl:a,update:s,config:t,userData:r,userId:i,dims:u}=l.useContext(B),[C,N]=l.useState(null),[w,b]=l.useState(!0);return l.useEffect(()=>{b(!0),(async()=>{try{const x=await R.get(a+"/api/balance/last90days-expense-income-balance/"+i,t);if(x.status===200){const f=x.data.data.map(_=>({..._,date:_.date.split("T")[0].split("-")[2]}));N(f),b(!1)}else x.status===204&&b(!0)}catch(x){console.log(x),b(!1)}})()},[r,i,s]),w?e.jsx(V,{className:"w-[700px] h-[515px]"}):e.jsxs(ee,{className:"w-full h-full flex flex-col align-stretch justify-stretch",children:[e.jsx(ae,{className:"flex align-start justify-start",children:e.jsx(se,{className:"flex flex-row align-center justify-between",children:"Last 30 Days"})}),e.jsxs(te,{className:"w-full h-full flex flex-col justify-center items-center",children:[e.jsx(ie,{children:e.jsxs(Te,{data:C,syncId:"anyId",margin:u.width>768&&{top:10,right:30,left:0,bottom:0},children:[e.jsx(Ne,{dataKey:"date"}),u.width>768&&e.jsx(Ce,{}),e.jsx($e,{}),e.jsx(xe,{type:"monotone",dataKey:"expense",stroke:Oe,fill:Oe}),e.jsx(xe,{type:"monotone",dataKey:"income",stroke:Ee,fill:Ee}),e.jsx(ms,{height:30,startIndex:60,dataKey:"date",fill:"#c9c9c9ce",stroke:"c9c9c9b2"})]})}),e.jsx(ie,{children:e.jsxs(xs,{data:C,syncId:"anyId",margin:u.width>768&&{top:10,right:30,left:0,bottom:0},children:[e.jsx(Ne,{dataKey:"date"}),u.width>768&&e.jsx(Ce,{}),e.jsx($e,{}),e.jsx(us,{type:"monotone",dataKey:"balance",stroke:"#838383",fill:"#9494949d"})]})})]})]})}const Ia=({className:a,...s})=>e.jsx("nav",{role:"navigation","aria-label":"pagination",className:h("mx-auto flex w-full justify-center",a),...s});Ia.displayName="Pagination";const Ta=l.forwardRef(({className:a,...s},t)=>e.jsx("ul",{ref:t,className:h("flex flex-row items-center gap-1",a),...s}));Ta.displayName="PaginationContent";const ce=l.forwardRef(({className:a,...s},t)=>e.jsx("li",{ref:t,className:h("",a),...s}));ce.displayName="PaginationItem";const me=({className:a,isActive:s,size:t="icon",...r})=>e.jsx("a",{"aria-current":s?"page":void 0,className:h(he({variant:s?"outline":"ghost",size:t}),a),...r});me.displayName="PaginationLink";const Sa=({className:a,...s})=>e.jsxs(me,{"aria-label":"Go to previous page",size:"default",className:h("gap-1 pl-2.5",a),...s,children:[e.jsx(sa,{className:"h-4 w-4"}),e.jsx("span",{children:"Previous"})]});Sa.displayName="PaginationPrevious";const Aa=({className:a,...s})=>e.jsxs(me,{"aria-label":"Go to next page",size:"default",className:h("gap-1 pr-2.5",a),...s,children:[e.jsx("span",{children:"Next"}),e.jsx(Ie,{className:"h-4 w-4"})]});Aa.displayName="PaginationNext";const _a=({className:a,...s})=>e.jsxs("span",{"aria-hidden":!0,className:h("flex h-9 w-9 items-center justify-center",a),...s,children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"More pages"})]});_a.displayName="PaginationEllipsis";const qs="#25ff1dbd",Js="#ff1d1dbd";function Qs(){const{apiUrl:a,update:s,setUpdate:t,config:r,userData:i,userId:u,setDialogIsOpen:C}=l.useContext(B),[N,w]=l.useState(null),[b,A]=l.useState(!0),[x,f]=l.useState(null),[_,c]=l.useState(null),[n,g]=l.useState(null),[D,M]=l.useState(!1);async function y(m){try{const p=await R.get(m,r);if(p.status===200&&i.categories.length>0&&i.accounts.length>0&&p.data.data){let o=p.data.data;const I=i.accounts.reduce((z,U)=>(z[U._id]={accountColor:U.accountColor,accountTitle:U.accountTitle},z),{}),T=i.categories.reduce((z,U)=>(z[U._id]={categoryColor:U.categoryColor,categoryTitle:U.categoryTitle},z),{}),ne=o.map(z=>{const U=I[z.accountId],Ea=z.toAccountId?I[z.toAccountId]:"",Oa=T[z.categoryId];return{...z,...U,...Oa,toAccountTitle:Ea.accountTitle}});ne.sort((z,U)=>new Date(U.date)-new Date(z.date)),g(p.data.currentPage),c(p.data.totalPages),w(ne),A(!1)}else p.status===204&&A(!0)}catch(p){console.log(p),i&&A(!1)}}l.useEffect(()=>{A(!0),y(a+"/api/transaction/read/"+u)},[i,s]);function k(){const{...m}=x,p={...m};try{u&&p?(R.put(a+"/api/transaction/update/"+u,p,r).then(o=>{console.log("Updated transaction")}),t(o=>!o)):console.log("Missing Data")}catch(o){console.error("Error adding category:",o)}}async function j(){try{const m=await R.delete(a+"/api/transaction/delete/"+u+"/"+x._id,r);t(p=>!p)}catch(m){console.log(m)}}const v=m=>{const p=[];return p.push(e.jsx(ce,{children:e.jsx(me,{href:"#",onClick:o=>{d(o,n),o.preventDefault()},children:n})},n)),n>1&&p.unshift(e.jsx(ce,{children:e.jsx(me,{href:"#",onClick:o=>{d(o,n-1),o.preventDefault()},children:n-1})},n-1)),n<m&&p.push(e.jsx(ce,{children:e.jsx(me,{href:"#",onClick:o=>{d(o,n+1),o.preventDefault()},children:n+1})},n+1)),p};function d(m,p){y(`${a}/api/transaction/read/${u}?page=${p}`)}return b&&!N?e.jsx(V,{className:"w-[390px] h-[1150px]"}):e.jsxs(ee,{className:"w-full h-full flex flex-col align-stretch justify-stretch",children:[e.jsx(ae,{className:"flex align-start justify-start h-auto",children:e.jsx(se,{className:"flex flex-row align-center justify-between mb-[10px]",children:"History"})}),e.jsxs(te,{className:"flex flex-col h-full w-full",children:[e.jsx(L,{className:"flex justify-center align-start w-full h-[1050px] ml-0",children:N?N.map((m,p)=>e.jsxs(W,{onOpenChange:o=>C(o),className:"h-[90%] max-w-[320px] md:max-w-lg lg:max-w-2xl",children:[e.jsx(G,{className:"w-full",onClick:()=>f(m),children:e.jsxs("div",{className:"flex flex-row items-center justify-between  rounded-md hover:bg-accent",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:p+1}),e.jsxs("div",{className:"flex flex-col w-full mr-[10px]",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between text-sm text-muted-foreground",children:[m.date.split("T")[0],e.jsx("div",{className:"flex flex-row items-end justify-end text-sm text-muted-foreground",children:m.accountTitle})]}),m.type==="expense"?e.jsxs("div",{className:"flex flex-row  items-center justify-between m-[5px] ml-[20px]",children:[e.jsx("div",{className:"flex flex-row items-start justify-start",style:{fontSize:"20px",color:Js},children:m.amount}),e.jsx("div",{className:"flex flex-row items-center justify-center mr-[20px]",children:m.categoryTitle})]}):m.type==="income"?e.jsxs("div",{className:"flex flex-row  items-center justify-between m-[5px] ml-[20px]",children:[e.jsx("div",{className:"flex flex-row items-start justify-start",style:{fontSize:"20px",color:qs},children:m.amount}),e.jsx("div",{className:"flex flex-row items-center justify-center mr-[20px]",children:m.categoryTitle})]}):e.jsxs("div",{className:"flex flex-row  items-center justify-between m-[5px] ml-[20px] mr-0",children:[e.jsx("div",{className:"flex flex-row items-start justify-start",style:{fontSize:"20px"},children:m.amount}),e.jsxs("div",{className:"flex flex-row items-center justify-center text-sm text-muted-foreground",children:["-",">"," ",m.toAccountTitle]})]}),e.jsx("div",{className:"flex justify-end text-sm text-muted-foreground",children:"Balance: 100"}),e.jsx("div",{className:"w-full h-[0px] m-[5px] ",style:{borderBottom:"0.5px solid #9494944d",display:"grid",justifySelf:"center"}})]},m._id)]})}),e.jsx(K,{className:"h-[90%] max-w-[320px] md:max-w-lg lg:max-w-2xl min-h-[610px]",children:x?e.jsxs(e.Fragment,{children:[e.jsx(ka,{defaultValue:x.accountId,className:"h-[80%] w-full max-w-[275px] md:max-w-lg lg:max-w-2xl",children:e.jsxs(L,{className:"h-[50px] w-full p-1",children:[e.jsx(Se,{className:"flex justify-center items-center",children:e.jsx("div",{className:"flex flex-row justify-between items-center",children:i.accounts.length>0?i.accounts.map((o,I)=>e.jsx(Ae,{name:"account",value:o._id,className:"ml-1 mr-1",style:{color:o.accountColor},onClick:()=>{f(T=>({...T,accountId:o._id}))},children:o.accountTitle},I)):e.jsx("div",{})})}),e.jsx(je,{orientation:"horizontal"})]})}),e.jsxs("div",{className:"h-full w-full md:m-2 flex flex-col items-center justify-between",children:[e.jsx("div",{className:"mb-2 md:m-2 flex justify-center items-center",children:e.jsx(J,{style:{height:"70px",width:"60%",fontSize:"30px",textAlign:"center"},className:"flex justify-center align-center w-[250px] md:w-8/12 h-[70px]",type:"number",min:"0",placeholder:"Transaction Amount",name:"amount",value:x.amount,onChange:o=>{f(I=>({...I,amount:o.target.value}))}})}),e.jsx("div",{className:"block md:hidden",children:e.jsxs(Pe,{modal:!0,open:D,onOpenChange:M,children:[e.jsx(Me,{className:"w-full",asChild:!0,children:e.jsxs(O,{variant:"outline",className:h("w-full justify-start text-left font-normal",!x.date&&"text-muted-foreground"),children:[e.jsx(na,{className:"mr-2 h-4 w-4"}),x.date?la(x.date,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(ge,{className:"w-auto p-0",align:"start",children:e.jsx(fe,{mode:"single",selected:x.date,name:"date",disabled:o=>o>new Date||o<new Date("1900-01-01"),onSelect:o=>{o.setHours(12),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),f(I=>({...I,date:o}))},className:"rounded-md border h-full w-full",initialFocus:!0})})]})}),e.jsxs("div",{className:"flex flex-row justify-center sm:justify-between items-start md:mt-10 mt-2",children:[e.jsxs("div",{className:"flex flex-col justify-start items-start",children:[e.jsx("div",{className:"flex items-center m-2 ml-1",children:e.jsxs(le,{name:"type",defaultValue:x.type,className:"flex flex-row lg:flex-row md:flex-col lg:items-center items-start",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"expense",id:"expense",onClick:()=>{f(o=>({...o,type:"expense"}))}}),e.jsx(S,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"income",id:"income",onClick:()=>{f(o=>({...o,type:"income"}))}}),e.jsx(S,{htmlFor:"income",children:"Income"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"transfer",id:"transfer",onClick:()=>{f(o=>({...o,type:"transfer"}))}}),e.jsx(S,{htmlFor:"transfer",children:"Transfer"})]})]})}),e.jsx(L,{className:"lg:h-[298px] lg:w-[231.36px] md:w-[150px] md:h-[240px] h-[180px] w-full rounded-md border px-2 pt-2 md:px-4 md:pt-4 mr-6",children:e.jsx(le,{name:"category",defaultValue:x.categoryId,children:x.type==="expense"&&i.categories.length>0?i.categories.map((o,I)=>{if(o.categoryType==="expense")return e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[e.jsx(P,{style:{backgroundColor:o.categoryColor},className:"w-5 h-5 mr-2",name:"category",value:o._id,id:I,onClick:()=>{f(T=>({...T,categoryId:o._id,toAccountId:"",fromAccountId:""}))}}),e.jsx(S,{htmlFor:I,className:"bg:text-lg",children:o.categoryTitle})]},I)}):x.type==="income"&&i.categories.length>0?i.categories.map((o,I)=>{if(o.categoryType==="income")return e.jsxs("div",{className:"flex flex-row items-center justify-start",children:[e.jsx(P,{style:{backgroundColor:o.categoryColor},className:"w-5 h-5 mr-2",name:"category",value:o._id,id:I,onClick:()=>{f(T=>({...T,categoryId:o._id,toAccountId:"",fromAccountId:""}))}}),e.jsx(S,{htmlFor:I,className:"bg:text-lg",children:o.categoryTitle})]},I)}):x.type==="transfer"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-2",children:"Transfer to Account"}),i.accounts.map((o,I)=>e.jsx("div",{className:"flex flex-row items-center justify-start",children:o._id===x.accountId?e.jsxs(e.Fragment,{children:[e.jsx(P,{style:{backgroundColor:o.accountColor},disabled:!0,className:"w-5 h-5 mr-2",name:"account",value:o._id,id:I,onClick:()=>{f(T=>({...T,toAccountId:o._id,fromAccountId:""}))}}),e.jsx(S,{htmlFor:I,className:"bg:text-lg text-gray-600",children:o.accountTitle})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{style:{backgroundColor:o.accountColor},className:"w-5 h-5 mr-2",name:"account",value:o._id,id:I,onClick:()=>{f(T=>({...T,toAccountId:o._id,fromAccountId:""}))}}),e.jsx(S,{htmlFor:I,className:"bg:text-lg",children:o.accountTitle})]})},I))]}):e.jsx("div",{children:"Nothing to SHow Here ..."})})})]}),e.jsx("div",{className:"lg:m-2 hidden md:block",children:e.jsx(fe,{mode:"single",selected:x.date,name:"date",value:x.date,initialFocus:!0,disabled:o=>o>new Date||o<new Date("1900-01-01"),onSelect:o=>{f(I=>({...I,date:o}))},className:"rounded-md border h-[322px] w-[250px]"})})]}),e.jsxs("div",{className:"lg:w[450px] w-full flex flex-col items-center mt-4",children:[e.jsx(S,{className:"mb-2 ml-1",children:"Description"}),e.jsx(_e,{className:"w-full h-[70px]",name:"description",placeholder:"Enter more details here.",value:x.description,onChange:o=>{f(I=>({...I,description:o.target.value}))}})]}),e.jsxs("div",{className:"w-full flex justify-between align-center m-2 mt-7",children:[e.jsxs(W,{className:"w-[50%] flex items-end",children:[e.jsx(G,{children:e.jsx(F,{className:"w-[100px] h-[38px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsxs(X,{children:[e.jsx(Z,{children:"Are you sure you want to delete the transaction?"}),e.jsx(ue,{children:"This action cannot be undone. This will permanently delete the transaction."})]}),e.jsx(Da,{children:e.jsx(H,{asChild:!0,children:e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx(O,{className:"w-[100px] flex align-end items-end",variant:"outline",children:"cancel"}),e.jsx(O,{className:"w-[100px] flex align-end items-end ml-[10px]",variant:"destructive",onClick:()=>j(),children:"delete"})]})})})]})]}),e.jsx(H,{asChild:!0,children:e.jsx(O,{variant:"default",onClick:k,children:"Save Changes"})})]})]})]}):e.jsx("div",{children:"Loading ..."})})]},p)):e.jsx(e.Fragment,{})}),e.jsx(Ia,{className:"felx justify-center align-end items-end h-auto mt-[20px] w-11/12",children:e.jsxs(Ta,{children:[e.jsx(ce,{children:e.jsx(Sa,{onClick:m=>{d(m,n-1),m.preventDefault()},href:"#"})}),v(_),e.jsx(ce,{children:e.jsx(_a,{})}),e.jsx(ce,{children:e.jsx(Aa,{onClick:m=>{n<_&&d(m,n+1),m.preventDefault()},href:"#"})})]})})]})]})}const Pa=Ns,Ma=Cs,ze=l.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(pa,{ref:r,className:h("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...t,children:[s,e.jsx(hs,{asChild:!0,children:e.jsx(ps,{className:"h-4 w-4 opacity-50"})})]}));ze.displayName=pa.displayName;const za=l.forwardRef(({className:a,...s},t)=>e.jsx(ja,{ref:t,className:h("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(js,{})}));za.displayName=ja.displayName;const Fa=l.forwardRef(({className:a,...s},t)=>e.jsx(ga,{ref:t,className:h("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(gs,{})}));Fa.displayName=ga.displayName;const Fe=l.forwardRef(({className:a,children:s,position:t="popper",...r},i)=>e.jsx(ys,{children:e.jsxs(ya,{ref:i,className:h("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:t,...r,children:[e.jsx(za,{}),e.jsx(vs,{className:h("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Fa,{})]})}));Fe.displayName=ya.displayName;const et=l.forwardRef(({className:a,...s},t)=>e.jsx(va,{ref:t,className:h("px-2 py-1.5 text-sm font-semibold",a),...s}));et.displayName=va.displayName;const E=l.forwardRef(({className:a,children:s,...t},r)=>e.jsxs(wa,{ref:r,className:h("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...t,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ws,{children:e.jsx(ke,{className:"h-4 w-4"})})}),e.jsx(bs,{children:s})]}));E.displayName=wa.displayName;const at=l.forwardRef(({className:a,...s},t)=>e.jsx(ba,{ref:t,className:h("-mx-1 my-1 h-px bg-muted",a),...s}));at.displayName=ba.displayName;function st(){const{apiUrl:a,update:s,config:t,userData:r,userId:i,balanceData:u,dims:C}=l.useContext(B);let N={};const[w,b]=l.useState(!0),[A,x]=l.useState(null),[f,_]=l.useState(null),[c,n]=l.useState(null),[g,D]=l.useState("this_month"),[M,y]=l.useState();async function k(d){try{const m=await R.get(`${a}/api/balance/category-analytic/${i}?period=${d}`,t);if(m.status===200&&r.categories.length>0&&r.accounts.length>0&&(m.data.pieData||m.data.barData)){let p=m.data.pieData.income,o=m.data.pieData.expense,I=m.data.barData;r.categories.map(T=>{N[T._id]={color:T.categoryColor,title:T.categoryTitle}}),y(N),p=p.map(T=>({...N[T.categoryId],...T})),o=o.map(T=>({...N[T.categoryId],...T})),n(I),x(o),_(p),b(!1)}else m.status===204&&b(!0)}catch(m){console.log(m),b(!1)}}l.useEffect(()=>{b(!0),k(g),r&&u&&b(!1)},[r,s]);const j=Math.PI/180,v=({cx:d,cy:m,midAngle:p,innerRadius:o,outerRadius:I,percent:T})=>{const ne=o+(I-o)*.5,z=d+ne*Math.cos(-p*j),U=m+ne*Math.sin(-p*j);return e.jsx("text",{x:z,y:U,fill:"white",textAnchor:z>d?"start":"end",dominantBaseline:"central",children:`${(T*100).toFixed(0)}%`})};return e.jsxs(ee,{className:"w-full h-full flex flex-col",children:[e.jsxs("div",{className:" flex flex-row justify-between items-center",children:[e.jsx(ae,{className:"w-[50%] flex items-start",children:e.jsx(se,{children:"Category Analytics"})}),e.jsxs(Pa,{onValueChange:d=>{D(d),k(d)},defaultValue:g,children:[e.jsx(ze,{className:"w-[130px] mr-[30px] hover:bg-accent",children:e.jsx(Ma,{placeholder:"Choose Period"})}),e.jsxs(Fe,{children:[e.jsx(E,{value:"this_week",children:"This Week"}),e.jsx(E,{value:"this_month",children:"This Month"}),e.jsx(E,{value:"last_3_months",children:"Last 3 Months"}),e.jsx(E,{value:"last_6_months",children:"Last 6 Months"}),e.jsx(E,{value:"this_year",children:"This Year"}),e.jsx(E,{disabled:!0,value:"max",children:"Custom"})]})]})]}),w&&C.width>10?e.jsxs("div",{className:"flex lg:flex-row flex-col justify-between px-[40px]",children:[e.jsx("div",{className:"ml-[55px]",children:e.jsx(V,{className:"lg:w-12/4 w-full lg:h-[350px]"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(V,{className:"w-[160px] h-[160px] rounded-full mx-[15px] mb-[20px] mt-[8px]"}),e.jsx(V,{className:"w-[160px] h-[160px] rounded-full mx-[15px]"})]})]}):e.jsxs(te,{className:"flex flex-col lg:flex-row justify-center items-center w-full h-full",children:[e.jsx("div",{className:"flex flex-row lg:flex-col w-full h-[60%] lg:w-[75%] lg:h-full",children:e.jsx(ie,{width:"100%",height:"100%",children:e.jsxs(Te,{data:c,margin:C.width>768&&{top:20,right:30,left:20,bottom:5},children:[e.jsx(Ne,{dataKey:"gap"}),C.width>768&&e.jsx(Ce,{}),e.jsx($e,{labelFormatter:(d,m)=>(m.forEach(p=>{p.name=M[p.dataKey].title}),{keys:d,values:m})}),r.categories.length>0?r.categories.map((d,m)=>d.categoryType==="expense"?e.jsx(xe,{dataKey:d._id,stackId:"expense",fill:d.categoryColor},m):d.categoryType==="income"?e.jsx(xe,{dataKey:d._id,stackId:"income",fill:d.categoryColor},m):e.jsx(e.Fragment,{})):e.jsx("div",{})]})})}),e.jsxs("div",{className:"flex flex-row lg:flex-col w-full h-[40%] lg:w-[25%] lg:h-[100%]",children:[e.jsx(ie,{width:"100%",height:"100%",children:e.jsx(ve,{children:e.jsx(we,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:v,fill:"#8884d8",dataKey:"amount",children:f?f.map((d,m)=>e.jsx(be,{fill:d.color},d.categoryId)):e.jsx(V,{})})})}),e.jsx(ie,{width:"100%",height:"100%",children:e.jsx(ve,{children:e.jsx(we,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:v,fill:"#8884d8",dataKey:"amount",children:A?A.map((d,m)=>e.jsx(be,{fill:d.color},d.categoryId)):e.jsx(V,{})})})})]})]})]})}const Be="#25ff1dbd",ye="#ff1d1dbd";function tt(){const{apiUrl:a,update:s,config:t,userData:r,userId:i,dims:u}=l.useContext(B),[C,N]=l.useState(null),[w,b]=l.useState("this_month"),[A,x]=l.useState(!0);async function f(n){try{const g=await R.get(a+"/api/balance/sankey/"+i+`?period=${n}`,t);if(g.status===200&&r.accounts.length>0&&r.categories.length>0&&g.data.sankeyData){let D={};r.accounts.map(d=>{D[d._id]={color:d.accountColor,title:d.accountTitle}});let M={};r.categories.map(d=>{M[d._id]={color:d.categoryColor,title:d.categoryTitle}});let y=[],k=[],j=0,v=0;g.data.sankeyData.forEach(d=>{if(d.type==="initial"&&D[d.accountId]){const m=d.totalAmount;m>=0?(y.push({id:`${D[d.accountId].title} (initial)`,nodeColor:D[d.accountId].color}),k.push({source:`${D[d.accountId].title} (initial)`,target:"Inflow",value:m})):m<0&&(y.map(p=>p.id==="Old Debts"&&p.id!==D[d.accountId].title)?(y.push({id:`${D[d.accountId].title} (initial)`,nodeColor:D[d.accountId].color}),y.push({id:"Old Debts",nodeColor:ye}),k.push({source:"Inflow",target:"Old Debts",value:-m}),k.push({source:"Old Debts",target:`${D[d.accountId].title} (initial)`,value:-m})):y.map(p=>p.id==="Old Debts")&&(k.push({source:"Inflow",target:"Old Debts",value:-m}),k.push({source:"Old Debts",target:`${D[d.accountId].title} (initial)`,value:-m})))}else if(d.type==="final"&&D[d.accountId]){const m=d.totalAmount;m>=0?(y.push({id:D[d.accountId].title,nodeColor:D[d.accountId].color}),k.push({source:"Total Income",target:D[d.accountId].title,value:m})):m<0&&(y.push({id:D[d.accountId].title,nodeColor:D[d.accountId].color}),y.push({id:"Current Debts",nodeColor:ye}),k.push({source:D[d.accountId].title,target:"Current Debts",value:m}),k.push({source:"Current Debts",target:"Inflow",value:m})),v+=m>0?m:-m}else if(d.type==="income"&&M[d.categoryId]){const m=d.totalAmount;y.push({id:M[d.categoryId].title,nodeColor:M[d.categoryId].color}),k.push({source:M[d.categoryId].title,target:"Inflow",value:m})}else if(d.type==="expense"&&M[d.categoryId]){const m=d.totalAmount;j+=m>0?m:-m,y.push({id:M[d.categoryId].title,nodeColor:M[d.categoryId].color}),k.push({source:"Outflow",target:M[d.categoryId].title,value:m})}else console.log("type undefined")}),y.push({id:"Inflow",nodeColor:Be},{id:"Outflow",nodeColor:ye},{id:"Total Income",nodeColor:Be}),k.push({source:"Inflow",target:"Outflow",value:j},{source:"Inflow",target:"Total Income",value:v}),N({nodes:y,links:k}),x(!1)}else x(!0)}catch(g){console.error(g),x(!1)}}const _=Math.max(8,u.width/100),c=Math.max(16,u.width/50);return l.useEffect(()=>{f(w)},[r,s]),A?e.jsx(V,{className:"w-[951.3px] h-[650px]"}):e.jsxs(ee,{className:" w-full h-full flex flex-col align-stretch justify-stretch",children:[e.jsxs("div",{className:" flex flex-row justify-between items-center",children:[e.jsx(ae,{className:" w-[50%] flex items-start",children:e.jsx(se,{children:"Cash Flow"})}),e.jsxs(Pa,{onValueChange:n=>{b(n),f(n)},defaultValue:w,children:[e.jsx(ze,{className:" w-[130px] mt-[15px] mr-[30px] hover:bg-accent",children:e.jsx(Ma,{placeholder:"Choose Period"})}),e.jsxs(Fe,{children:[e.jsx(E,{value:"this_week",children:"This Week"}),e.jsx(E,{value:"this_month",children:"This Month"}),e.jsx(E,{value:"last_3_months",children:"Last 3 Months"}),e.jsx(E,{value:"last_6_months",children:"Last 6 Months"}),e.jsx(E,{value:"this_year",children:"This Year"}),e.jsx(E,{value:"last_3_years",children:"Last 3 Years"}),e.jsx(E,{disabled:!0,value:"max",children:"Custom"})]})]})]}),e.jsx(te,{className:" flex justify-center items-center w-[100%] h-full",children:e.jsx($s,{data:C,align:"justify",colors:n=>n.nodeColor,nodeOpacity:1,nodeHoverOthersOpacity:.35,nodeThickness:_,nodeSpacing:c,nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},nodeBorderRadius:2,linkOpacity:.5,linkHoverOthersOpacity:.1,linkContract:3,enableLinkGradient:!0,labelPosition:"outside",labelOrientation:"vertical",labelPadding:16,borderColor:{theme:"background"},labelTextColor:{from:"color",modifiers:[["darker",1]]},linkColor:n=>n.source.nodeColor})})]})}function nt(){const{apiUrl:a,config:s,userData:t,setUserData:r,userId:i,setDialogIsOpen:u}=l.useContext(B),[C,N]=l.useState({categoryTitle:"",categoryColor:pe[0].value,categoryType:"expense"}),[w,b]=l.useState(null),[A,x]=l.useState(!0);l.useEffect(()=>{x(!0),t.accounts.length>0&&x(!1)},[t]);async function f(){if(i&&C.categoryTitle)try{await R.put(a+"/api/profile/add-category/"+i,C,s).then(n=>{r(n.data.data)})}catch(n){console.error("Error posting data:",n)}else console.log("insert category name");N({categoryTitle:"",categoryColor:pe[0].value,categoryType:"expense"})}async function _(){if(i&&w._id)try{await R.put(a+"/api/profile/update-category/"+i,w,s).then(n=>{r(n.data.data)})}catch(n){console.error(n)}else console.log("error updating the category")}async function c(){try{const n=await R.delete(a+"/api/profile/remove-category/"+i+"/"+w._id,s);r(n.data.data)}catch(n){console.log(n)}}return A?e.jsx(V,{className:"w-[641.3] h-[340px]"}):e.jsxs(ee,{className:"w-full h-full",children:[e.jsxs("div",{className:" flex flex-row justify-between items-center",children:[e.jsx(ae,{className:"w-[50%] flex items-start",children:e.jsx(se,{children:"Categoies"})}),e.jsxs(W,{onOpenChange:n=>u(n),className:"w-[50%] flex items-end",children:[e.jsx(G,{children:e.jsx(F,{className:"w-[50px] h-[35px] mt-[15px] mr-[30px] justify-center align-center hover:bg-accent",variant:"ghost",children:e.jsx(ha,{className:"h-4 w-4"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Add New Category"})}),C?e.jsxs(e.Fragment,{children:[e.jsxs(le,{name:"type",defaultValue:C.categoryType,className:"flex flex-row align-center justify-center items-center mt-[25px]",children:[e.jsxs("div",{className:"flex items-center space-x-2 mr-10",children:[e.jsx(P,{name:"type",value:"expense",id:"expense",onClick:()=>N(n=>({...n,categoryType:"expense"}))}),e.jsx(S,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"income",id:"income",onClick:()=>N(n=>({...n,categoryType:"income"}))}),e.jsx(S,{htmlFor:"income",children:"Income"})]})]}),e.jsxs("div",{className:"flex flex-row justify-center items-center my-[25px]",children:[e.jsxs(re,{className:"colorDiv",children:[e.jsx(oe,{children:e.jsx("div",{className:"w-8 h-7 rounded-md mr-2 colorDiv",style:{backgroundColor:C.categoryColor}})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:["Current Color",e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:C.categoryColor}})]})}),e.jsx(L,{className:"h-72 w-[200px] rounded-md border",children:e.jsx("div",{className:"grid grid-cols-4 gap-[1px]",children:q.length>0?q.map((n,g)=>e.jsxs(Y,{onClick:()=>N(D=>({...D,categoryColor:n.value})),children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:`${n.value}`}})}),g%4===3&&e.jsx("div",{className:"w-full"})," "]},n.value)):e.jsx("div",{})})})]})]}),e.jsx(J,{className:"w-[200px]",defaultValue:C.categoryTitle,placeholder:"Category Name",onChange:n=>N(g=>({...g,categoryTitle:n.target.value}))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",onClick:()=>f(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Save"})})})})]}):e.jsx(e.Fragment,{})]})]})]}),e.jsxs(te,{className:"flex flex-row h-[100%] w-[100%]",children:[e.jsxs("div",{className:"w-[50%] flex flex-col justify-start items-start m-0 sm:ml-[25px]",children:[e.jsxs("div",{className:"w-full flex flex-row align-center justify-center items-center mb-4",children:[e.jsx("div",{className:"w-[40%] h-[0px]",style:{borderBottom:"0.5px solid #9494944d"}}),e.jsx("div",{children:e.jsx("p",{className:"mr-2 ml-2 text-sm text-muted-foreground",children:"Expense"})}),e.jsx("div",{className:"w-[40%] h-[0px]",style:{borderBottom:"0.5px solid #9494944d"}})]}),e.jsx(L,{className:"h-[210px] w-full",children:e.jsxs(W,{onOpenChange:n=>u(n),children:[e.jsx("div",{className:"flex flex-col",children:t.categories.length>0?t.categories.map((n,g)=>{if(n.categoryType==="expense")return e.jsx(G,{className:" rounded-md hover:bg-accent mr-2",children:e.jsxs("div",{className:"flex flex-row align-center items-center py-2 pl-2",onClick:()=>{b(n)},children:[e.jsx("div",{className:"w-5 h-5 rounded-md mr-2 colorDiv",style:{backgroundColor:`${n.categoryColor}`}}),n.categoryTitle]})},g)}):e.jsx("div",{})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Click Save to Apply Changes"})}),w?e.jsxs(e.Fragment,{children:[e.jsxs(le,{name:"type",defaultValue:w.categoryType,className:"flex flex-row align-center justify-center items-center mt-[25px]",children:[e.jsxs("div",{className:"flex items-center space-x-2 mr-10",children:[e.jsx(P,{name:"type",value:"expense",id:"expense",onClick:()=>b(n=>({...n,categoryType:"expense"}))}),e.jsx(S,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"income",id:"income",onClick:()=>b(n=>({...n,categoryType:"income"}))}),e.jsx(S,{htmlFor:"income",children:"Income"})]})]}),e.jsxs("div",{className:"flex flex-row justify-center items-center my-[25px]",children:[e.jsxs(re,{className:"colorDiv",children:[e.jsx(oe,{children:e.jsx("div",{className:"w-8 h-7 rounded-md mr-2 colorDiv",style:{backgroundColor:w.categoryColor}})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:["Current Color",e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:w.categoryColor}})]})}),e.jsx(L,{className:"h-72 w-[200px] rounded-md border",children:e.jsx("div",{className:"grid grid-cols-4 gap-[1px]",children:q.length>0?q.map((n,g)=>e.jsxs(Y,{onClick:()=>b(D=>({...D,categoryColor:n.value})),children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:`${n.value}`}})}),g%4===3&&e.jsx("div",{className:"w-full"})," "]},n.value)):e.jsx("div",{})})})]})]}),e.jsx(J,{className:"w-[200px]",defaultValue:w.categoryTitle,placeholder:"Category Name",onChange:n=>b(g=>({...g,categoryTitle:n.target.value}))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(W,{children:[e.jsx(G,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsxs(X,{children:[e.jsxs(Z,{children:["Delete the ",w.categoryTitle," category, and it's transactions?"]}),e.jsxs(ue,{children:["This action cannot be undone and it will permanently delete your"," ",w.categoryTitle," category and all related transactions. Are you sure?"]})]}),e.jsxs("div",{className:"flex flex-row justify-end",children:[e.jsx(H,{children:e.jsx(F,{className:"w-[100px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Cancel"})})}),e.jsx(H,{children:e.jsx(F,{className:"ml-[10px] w-[100px] h-[37px] flex justify-center items-center",variant:"destructive",onClick:()=>c(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})})]})]})]}),e.jsx(H,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",onClick:()=>_(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Save"})})})]})]}):e.jsx(e.Fragment,{})]})]})})]}),e.jsxs("div",{className:"w-[50%] flex flex-col justify-start items-start m-0 sm:ml-[30px]",children:[e.jsxs("div",{className:"w-full flex flex-row align-center justify-center items-center mb-4",children:[e.jsx("div",{className:"w-[40%] h-[0px]",style:{borderBottom:"0.5px solid #9494944d"}}),e.jsx("div",{children:e.jsx("p",{className:"mr-2 ml-2 text-sm text-muted-foreground",children:"Income"})}),e.jsx("div",{className:"w-[40%] h-[0px]",style:{borderBottom:"0.5px solid #9494944d"}})]}),e.jsx(L,{className:"h-[210px] w-full",children:e.jsxs(W,{onOpenChange:n=>u(n),children:[e.jsx("div",{className:"flex flex-col",children:t.categories.length>0?t.categories.map((n,g)=>{if(n.categoryType==="income")return e.jsx(G,{className:"rounded-md hover:bg-accent sm:mr-2",children:e.jsxs("div",{className:"flex flex-row align-center items-center py-2 pl-2",onClick:()=>{b(n)},children:[e.jsx("div",{className:"w-5 h-5 rounded-md mr-2 colorDiv",style:{backgroundColor:`${n.categoryColor}`}}),n.categoryTitle]})},g)}):e.jsx("div",{})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsx(X,{children:e.jsx(Z,{children:"Click Save to Apply Changes"})}),w?e.jsxs(e.Fragment,{children:[e.jsxs(le,{name:"type",defaultValue:w.categoryType,className:"flex flex-row align-center justify-center items-center mt-[25px]",children:[e.jsxs("div",{className:"flex items-center space-x-2 mr-10",children:[e.jsx(P,{name:"type",value:"expense",id:"expense",onClick:()=>b(n=>({...n,categoryType:"expense"}))}),e.jsx(S,{htmlFor:"expense",children:"Expense"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{name:"type",value:"income",id:"income",onClick:()=>b(n=>({...n,categoryType:"income"}))}),e.jsx(S,{htmlFor:"income",children:"Income"})]})]}),e.jsxs("div",{className:"flex flex-row justify-center items-center my-[25px]",children:[e.jsxs(re,{className:"colorDiv",children:[e.jsx(oe,{children:e.jsx("div",{className:"w-8 h-7 rounded-md mr-2 colorDiv",style:{backgroundColor:w.categoryColor}})}),e.jsxs(Q,{children:[e.jsx(de,{children:e.jsxs("div",{className:"flex justify-between items-center",children:["Current Color",e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:w.categoryColor}})]})}),e.jsx(L,{className:"h-72 w-[200px] rounded-md border",children:e.jsx("div",{className:"grid grid-cols-4 gap-[1px]",children:q.length>0?q.map((n,g)=>e.jsxs(Y,{onClick:()=>b(D=>({...D,categoryColor:n.value})),children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("div",{className:"w-8 h-7 rounded-md colorDiv",style:{backgroundColor:`${n.value}`}})}),g%4===3&&e.jsx("div",{className:"w-full"})," "]},n.value)):e.jsx("div",{})})})]})]}),e.jsx(J,{className:"w-[200px]",defaultValue:w.categoryTitle,placeholder:"Category Name",onChange:n=>b(g=>({...g,categoryTitle:n.target.value}))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(W,{children:[e.jsx(G,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsxs(X,{children:[e.jsxs(Z,{children:["Delete the ",w.categoryTitle," category?"]}),e.jsxs(ue,{children:["This action cannot be undone and it will permanently delete your"," ",w.categoryTitle," category. Are you sure?"]})]}),e.jsxs("div",{className:"flex flex-row justify-end",children:[e.jsx(H,{children:e.jsx(F,{className:"w-[100px] h-[37px] flex justify-center items-center",variant:"outline",children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Cancel"})})}),e.jsx(H,{children:e.jsx(F,{className:"ml-[10px] w-[100px] h-[37px] flex justify-center items-center",variant:"destructive",onClick:()=>c(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Delete"})})})]})]})]}),e.jsx(H,{children:e.jsx(F,{className:"w-[70px] h-[37px] flex justify-center items-center",onClick:()=>_(),children:e.jsx("p",{style:{fontSize:"small",margin:"0"},children:"Save"})})})]})]}):e.jsx(e.Fragment,{})]})]})})]})]})]})}const lt="https://crunchcat.bardiamadani.com",Re=l.createContext();function rt(){const[a,s]=l.useState(null),[t,r]=l.useState(!0),{userData:i,update:u,userId:C,config:N}=l.useContext(B);async function w(){try{const b=await R.get(lt+"/api/balance/timeframe-total-balance/"+C,N);s(b.data.balance)}catch(b){console.log(b)}}return l.useEffect(()=>{r(!0),i?(w(),r(!1)):console.log("stuck here")},[i,u]),t?e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:"Loading..."}):e.jsx(Re.Provider,{value:{balanceData:a},children:e.jsxs("div",{className:"main",children:[e.jsx("div",{className:"add-transaction",children:e.jsx(Es,{})}),e.jsxs("div",{className:"top-section",children:[e.jsx("div",{className:"total-balance",children:e.jsx(Us,{})}),e.jsx("div",{className:"income-expense-balance",children:e.jsx(Hs,{})}),e.jsx("div",{className:"account-analytic",children:e.jsx(Xs,{})}),e.jsx("div",{className:"last-days",children:e.jsx(Zs,{})}),e.jsx("div",{className:"category-legend",children:e.jsx(nt,{})})]}),e.jsxs("div",{className:"bottom-section",children:[e.jsx("div",{className:"category-analytic",children:e.jsx(st,{})}),e.jsx("div",{className:"sankey",children:e.jsx(tt,{})}),e.jsx("div",{className:"history",children:e.jsx(Qs,{})})]})]})})}const Ra=l.createContext();function ot({children:a,defaultTheme:s="system",storageKey:t="vite-ui-theme",...r}){const[i,u]=l.useState(()=>localStorage.getItem(t)||s);l.useEffect(()=>{const N=window.document.documentElement;if(N.classList.remove("light","dark"),i==="system"){const w=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";N.classList.add(w);return}N.classList.add(i)},[i]);const C={theme:i,setTheme:N=>{localStorage.setItem(t,N),u(N)}};return e.jsx(Ra.Provider,{...r,value:C,children:a})}const La=()=>{const a=l.useContext(Ra);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a};function ct(){const{setTheme:a}=La();return e.jsxs(re,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(O,{variant:"outline",size:"icon",children:[e.jsx(Na,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Ca,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Q,{align:"end",children:[e.jsx(Y,{onClick:()=>a("light"),children:"Light"}),e.jsx(Y,{onClick:()=>a("dark"),children:"Dark"}),e.jsx(Y,{onClick:()=>a("system"),children:"System"})]})]})}const Ue="https://crunchcat.bardiamadani.com",it=[{code:"USD",symbol:"$",name:"United States Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"JPY",symbol:"",name:"Japanese Yen"},{code:"GBP",symbol:"",name:"British Pound"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"CHF",symbol:"Fr",name:"Swiss Franc"},{code:"CNY",symbol:"",name:"Chinese Yuan"},{code:"INR",symbol:"",name:"Indian Rupee"},{code:"RUB",symbol:"",name:"Russian Ruble"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"MXN",symbol:"$",name:"Mexican Peso"}];function dt(){const{setDialogIsOpen:a,userId:s,setUserId:t,config:r,setUserData:i,currency:u,setCurrency:C}=l.useContext(B),{setTheme:N}=La(),[w,b]=l.useState(null),[A,x]=l.useState({username:"",password:""}),[f,_]=l.useState(!1),c=Ds(),n=()=>{i(null),t(null),c("/login")};function g(){const y=localStorage.getItem("FinanceMadaniLabUsername");b(y)}l.useEffect(()=>{g()},[]);function D(){R.delete(`${Ue}/auth/delete-account`,r).then(()=>{n()}).catch(y=>{console.error("Error deleting account:",y)})}async function M(y){try{if(s){C(y);const k=await R.put(`${Ue}/api/profile/update-currency/${s}`,{updatedCurrency:y},r);i(k.data.data),C(k.data.data.currency)}C(y)}catch(k){console.error("Error updating currency:",k)}}return e.jsxs(W,{onOpenChange:y=>a(y),children:[e.jsx(G,{asChild:!0,children:e.jsx(O,{variant:"outline",size:"icon",children:e.jsx(ks,{variant:"outline"})})}),e.jsxs(K,{className:"w-[80%] max-w-[500px]",children:[e.jsx(X,{children:e.jsxs(Z,{children:["Hi ",w," "]})}),e.jsxs("div",{className:"sm:p-[20px]",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mt-[15px]",children:[e.jsx(S,{children:"Set Theme"}),e.jsxs(re,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(O,{variant:"outline",className:"w-[150px]",children:[e.jsx(Na,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Ca,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Q,{className:"w-[150px]",align:"start",children:[e.jsx(Y,{onClick:()=>N("light"),children:"Light"}),e.jsx(Y,{onClick:()=>N("dark"),children:"Dark"}),e.jsx(Y,{onClick:()=>N("system"),children:"System"})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-between items-center mt-[10px]",children:[e.jsx(S,{children:"Currency"}),e.jsxs(re,{children:[e.jsx(oe,{asChild:!0,children:e.jsx(O,{className:"w-[150px]",variant:"outline",children:u.code})}),e.jsx(Q,{className:"w-[210px]",align:"start",children:e.jsx(L,{className:"h-[250px]",children:it.map(y=>e.jsxs(Y,{onClick:()=>M(y),children:[y.code," - ",y.name]},y.code))})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-[50px]",children:[e.jsxs(Pe,{modal:!0,open:f,onOpenChange:_,children:[e.jsx(Me,{asChild:!0,children:e.jsx(O,{variant:"ghost",children:"Delete Account"})}),e.jsxs(ge,{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."}),e.jsxs("form",{onSubmit:y=>{y.preventDefault(),D()},children:[e.jsx(J,{className:"m-[5px]",type:"text",placeholder:"Username",value:A.username,onChange:y=>x(k=>({...k,username:y.target.value})),"aria-label":"Username",disabled:!0}),e.jsx(J,{className:"m-[5px]",type:"password",placeholder:"Password",value:A.password,onChange:y=>x(k=>({...k,password:y.target.value})),"aria-label":"Password",disabled:!0}),e.jsx(O,{className:"mt-[5px] ml-[5px]",variant:"destructive",type:"submit",disabled:!0,children:"Delete Account"})]})]})]}),e.jsx(O,{variant:"ghost",onClick:n,children:"Sign Out"})]})]})]})}function mt(){const{isAuthenticated:a}=l.useContext(B);return e.jsxs("header",{className:"header",children:[e.jsx("a",{href:"https://crunchcat.bardiamadani.com",children:e.jsxs("h2",{className:"scroll-m-20 pb-2 lg:text-2xl flex items-center space-x-2 font-semibold tracking-tight",children:[e.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"50px",viewBox:"0 0 798 798",enableBackground:"new 0 0 798 798",xmlSpace:"preserve",children:[e.jsx("path",{fill:"#260000",opacity:"1.000000",stroke:"#FE730A",strokeWidth:"20",d:`
            M585.114136,96.068024 
              C589.191223,86.957291 593.236450,78.224487 596.932434,69.346313 
              C599.229980,63.827301 600.762695,57.990189 603.054321,52.468349 
              C607.665833,41.356789 614.948303,32.604317 625.895691,27.020348 
              C638.496094,20.593208 650.874146,13.730164 663.478760,7.311708 
              C666.765198,5.638175 670.534912,4.913731 675.015015,3.448449 
              C676.080261,10.120829 677.860840,15.826478 677.755188,21.496983 
              C677.075073,57.996922 689.558899,90.170227 708.468750,120.662865 
              C724.341553,146.258163 739.486450,172.317291 754.470154,198.448318 
              C772.433411,229.775665 775.814758,263.542236 769.395996,298.555603 
              C767.298157,309.998810 764.432068,321.312866 761.609070,332.608917 
              C756.830139,351.730927 758.314392,370.166718 766.410767,388.204987 
              C773.847473,404.773621 778.536560,422.075439 777.927002,440.424896 
              C777.734253,446.225677 776.902588,452.031250 775.998474,457.777222 
              C773.711121,472.314392 775.586548,486.691071 777.338196,501.081451 
              C779.494080,518.792542 776.475281,535.561951 768.322266,551.419922 
              C764.898926,558.078552 761.207642,564.616272 758.125427,571.429443 
              C753.334045,582.020569 747.100586,590.286255 732.977844,588.730591 
              C739.080322,599.304504 734.520447,607.446533 729.191589,615.743896 
              C723.348145,624.842407 717.806763,634.163025 712.640442,643.662354 
              C701.892944,663.423828 687.036011,679.458862 668.413879,691.749451 
              C627.691895,718.625916 586.448242,744.738159 542.780396,766.620178 
              C505.852203,785.124878 466.406982,795.168823 425.112518,796.529663 
              C395.457245,797.506897 366.137634,793.177979 337.879395,784.380310 
              C295.967316,771.331787 254.335892,757.334656 212.874908,742.908203 
              C197.008133,737.387329 184.003708,726.446411 171.496033,715.371216 
              C121.632607,671.218628 86.851097,617.146790 67.903618,553.431335 
              C61.963211,533.455261 59.958942,512.308472 56.156078,491.697021 
              C50.297993,459.946289 44.279606,428.223694 38.693256,396.425232 
              C37.175140,387.783783 36.297901,378.913544 36.288330,370.147034 
              C36.267200,350.798523 33.804508,331.929504 26.996939,313.791412 
              C21.656773,299.563080 22.079556,285.735901 28.929962,272.213623 
              C32.761684,264.649994 36.797577,257.178192 41.033371,249.833359 
              C49.392735,235.338226 52.849377,220.027115 50.308662,203.304825 
              C47.433773,184.383102 50.852421,166.187973 57.655048,148.483566 
              C70.323799,115.512115 84.921341,83.434837 101.947472,52.476151 
              C106.095024,44.934635 111.152863,43.564819 117.626022,49.206097 
              C125.996246,56.500645 134.185699,64.087685 141.746185,72.206970 
              C153.956940,85.320236 166.897964,97.520149 182.076813,107.088417 
              C198.722351,117.581245 213.148880,130.113541 225.140793,146.006851 
              C236.557877,161.138260 253.474548,170.034775 269.809967,179.055038 
              C272.456696,180.516571 276.707611,179.894104 280.008636,179.217850 
              C303.152924,174.476486 326.154785,168.998566 349.371460,164.662125 
              C379.393921,159.054489 409.567810,157.768417 439.686493,164.556946 
              C441.427856,164.949432 443.362061,164.979401 445.127930,164.693130 
              C461.591248,162.024063 477.303955,164.127579 492.161530,171.862381 
              C498.239410,175.026520 503.843231,174.043930 508.776825,169.660141 
              C528.458130,152.172226 548.266785,134.816940 567.551758,116.899666 
              C574.071655,110.842209 579.180847,103.266441 585.114136,96.068024 
            M635.897705,477.441315 
              C645.801270,471.728333 654.765930,464.820618 661.774597,455.734833 
              C679.737122,432.448364 688.513000,406.284485 681.652283,377.171753 
              C675.221985,349.885742 656.880127,330.940674 633.207886,316.963715 
              C616.814209,307.284332 599.091370,303.837982 580.320190,307.270538 
              C529.539734,316.556427 491.303375,365.541260 508.448578,423.521881 
              C517.726562,454.897797 537.889832,476.624634 569.869080,485.589905 
              C592.470398,491.926117 614.420959,488.485168 635.897705,477.441315 
            M208.997147,414.523804 
              C210.334457,424.719940 210.480148,435.249176 213.220749,445.053040 
              C223.637497,482.316406 256.205383,508.498322 292.469788,509.828827 
              C330.704407,511.231659 365.049316,489.638550 380.084839,454.295624 
              C391.619324,427.182281 392.707123,400.343475 376.086670,374.597748 
              C364.015350,355.898712 347.654297,342.086090 327.216797,333.282898 
              C316.691467,328.749207 305.595123,326.468933 294.097229,327.481354 
              C264.209503,330.113007 241.643585,345.464752 224.252029,368.979248 
              C214.556000,382.088959 208.822739,396.892853 208.997147,414.523804 
            M494.947083,516.738159 
              C493.718628,509.323181 491.639771,506.746307 484.374573,505.604187 
              C479.326935,504.810669 473.786011,503.798584 469.073547,505.094818 
              C463.419067,506.650146 458.130554,510.154724 453.226593,513.590332 
              C450.226227,515.692322 450.043030,519.814758 452.534027,522.558533 
              C456.275208,526.679443 460.228729,530.962097 464.925476,533.793213 
              C478.076813,541.720520 493.820953,532.986084 494.947083,516.738159 
            M510.948364,592.593018 
              C511.781250,597.293335 511.848724,602.306763 513.615295,606.625122 
              C516.748535,614.284058 524.288635,614.828796 529.330139,608.305725 
              C536.370239,599.196655 534.433411,585.319458 525.167542,578.481140 
              C520.819763,575.272400 515.680115,576.178528 513.505859,581.116150 
              C512.069946,584.376892 511.766205,588.136108 510.948364,592.593018 
            M502.035126,585.942749 
              C502.239166,578.860535 502.066833,578.755188 495.399078,579.447510 
              C487.149109,580.303955 478.898926,581.323669 470.622742,581.701660 
              C465.585724,581.931702 462.622314,584.194580 460.771545,588.538879 
              C464.960541,594.284912 465.437500,594.783325 471.726410,594.087097 
              C479.794220,593.193909 487.846832,592.018005 495.819672,590.508118 
              C497.986877,590.097656 499.843445,588.046875 502.035126,585.942749 
            M502.486359,688.068481 
              C505.098053,686.682922 507.009644,684.753540 505.377502,681.702576 
              C504.485138,680.034424 502.658813,677.589478 501.334076,677.639160 
              C493.529388,677.931946 485.722961,678.655640 477.968750,679.640564 
              C473.235779,680.241760 471.774902,682.755493 472.585602,687.386597 
              C473.463684,692.402649 476.663544,694.783325 482.037109,693.602051 
              C488.680511,692.141541 495.201263,690.122925 502.486359,688.068481 
            M430.978973,605.361694 
              C431.772491,611.790955 436.436646,614.824768 441.581451,617.614319 
              C446.713593,611.755676 452.883270,606.039978 448.795319,597.530273 
              C447.046692,593.890320 443.189545,590.638062 439.495758,588.869934 
              C438.048096,588.177002 433.326569,591.478027 432.072937,593.959045 
              C430.570099,596.933228 431.179871,600.974854 430.978973,605.361694 
            M465.240784,689.467041 
              C468.304962,682.282471 465.740814,675.210205 458.372681,670.689514 
              C454.396698,674.846680 452.281311,679.677734 453.205353,685.518555 
              C454.472748,693.529724 458.351196,695.019897 465.240784,689.467041 
            M513.012756,672.588684 
              C512.722046,673.880188 512.331970,675.158447 512.158142,676.465515 
              C511.470123,681.638977 513.308044,684.332520 518.045227,685.015442 
              C523.062988,685.738831 524.245117,682.095764 525.008789,678.429382 
              C526.575928,670.905151 522.455566,666.263245 516.279297,662.270020 
              C515.195251,665.605286 514.191284,668.694031 513.012756,672.588684 
            z`}),e.jsx("path",{fill:"#FD720A",opacity:"1.000000",stroke:"none",d:`
            M635.578491,477.628357 
              C614.420959,488.485168 592.470398,491.926117 569.869080,485.589905 
              C537.889832,476.624634 517.726562,454.897797 508.448578,423.521881 
              C491.303375,365.541260 529.539734,316.556427 580.320190,307.270538 
              C599.091370,303.837982 616.814209,307.284332 633.207886,316.963715 
              C656.880127,330.940674 675.221985,349.885742 681.652283,377.171753 
              C688.513000,406.284485 679.737122,432.448364 661.774597,455.734833 
              C654.765930,464.820618 645.801270,471.728333 635.578491,477.628357 
            M611.908142,450.608002 
              C626.664612,443.794861 638.057373,433.528503 644.389709,418.314667 
              C649.225708,406.695892 649.119446,395.141815 643.796692,384.680298 
              C634.894043,385.870728 626.752075,387.750183 618.585510,387.863892 
              C606.680969,388.029694 598.600464,380.347046 596.992859,368.518982 
              C596.460815,364.604401 596.450562,360.548004 596.781982,356.605225 
              C597.179016,351.883087 598.197327,347.213196 598.957031,342.455200 
              C597.893799,342.033997 597.150391,341.669373 596.366638,341.447052 
              C595.410583,341.175964 594.426819,340.986359 593.444458,340.826843 
              C581.020630,338.809235 570.192871,343.231720 559.810181,349.278870 
              C538.640686,361.608459 528.077454,385.025055 532.497864,407.732635 
              C538.835266,440.287292 575.414246,465.532898 611.908142,450.608002 
            z`}),e.jsx("path",{fill:"#FC720A",opacity:"1.000000",stroke:"none",d:`
            M208.994812,414.035553 
              C208.822739,396.892853 214.556000,382.088959 224.252029,368.979248 
              C241.643585,345.464752 264.209503,330.113007 294.097229,327.481354 
              C305.595123,326.468933 316.691467,328.749207 327.216797,333.282898 
              C347.654297,342.086090 364.015350,355.898712 376.086670,374.597748 
              C392.707123,400.343475 391.619324,427.182281 380.084839,454.295624 
              C365.049316,489.638550 330.704407,511.231659 292.469788,509.828827 
              C256.205383,508.498322 223.637497,482.316406 213.220749,445.053040 
              C210.480148,435.249176 210.334457,424.719940 208.994812,414.035553 
            M315.425873,472.048645 
              C326.817322,467.409912 336.274750,460.225952 343.305481,450.127808 
              C351.970917,437.681702 354.952789,424.199432 350.033386,409.406555 
              C348.853333,405.858215 347.296204,404.172791 343.195923,405.325867 
              C340.036743,406.214294 336.612305,406.337433 333.293823,406.451477 
              C317.306488,407.001038 309.490051,401.213440 305.880585,385.590637 
              C304.541138,379.793091 304.080322,373.758057 303.643829,367.800171 
              C303.406067,364.555084 302.311005,363.297272 299.012573,362.737579 
              C277.933228,359.160767 253.603821,371.581543 243.030716,391.573792 
              C231.899155,412.621979 235.171783,438.127197 251.390717,456.727448 
              C267.059906,474.697296 291.793488,480.784729 315.425873,472.048645 
            z`}),e.jsx("path",{fill:"#FC720A",opacity:"1.000000",stroke:"none",d:`
            M494.969910,517.155396 
              C493.820953,532.986084 478.076813,541.720520 464.925476,533.793213 
              C460.228729,530.962097 456.275208,526.679443 452.534027,522.558533 
              C450.043030,519.814758 450.226227,515.692322 453.226593,513.590332 
              C458.130554,510.154724 463.419067,506.650146 469.073547,505.094818 
              C473.786011,503.798584 479.326935,504.810669 484.374573,505.604187 
              C491.639771,506.746307 493.718628,509.323181 494.969910,517.155396 
            z`}),e.jsx("path",{fill:"#FA710A",opacity:"1.000000",stroke:"none",d:`
            M510.951965,592.132568 
              C511.766205,588.136108 512.069946,584.376892 513.505859,581.116150 
              C515.680115,576.178528 520.819763,575.272400 525.167542,578.481140 
              C534.433411,585.319458 536.370239,599.196655 529.330139,608.305725 
              C524.288635,614.828796 516.748535,614.284058 513.615295,606.625122 
              C511.848724,602.306763 511.781250,597.293335 510.951965,592.132568 
            z`}),e.jsx("path",{fill:"#F9700A",opacity:"1.000000",stroke:"none",d:`
            M501.938873,586.345825 
              C499.843445,588.046875 497.986877,590.097656 495.819672,590.508118 
              C487.846832,592.018005 479.794220,593.193909 471.726410,594.087097 
              C465.437500,594.783325 464.960541,594.284912 460.771057,588.538208 
              C462.622314,584.194580 465.585724,581.931702 470.622742,581.701660 
              C478.898926,581.323669 487.149109,580.303955 495.399078,579.447510 
              C502.066833,578.755188 502.239166,578.860535 501.938873,586.345825 
            z`}),e.jsx("path",{fill:"#F7700A",opacity:"1.000000",stroke:"none",d:`
            M502.130676,688.206970 
              C495.201263,690.122925 488.680511,692.141541 482.037109,693.602051 
              C476.663544,694.783325 473.463684,692.402649 472.585602,687.386597 
              C471.774902,682.755493 473.235779,680.241760 477.968750,679.640564 
              C485.722961,678.655640 493.529388,677.931946 501.334076,677.639160 
              C502.658813,677.589478 504.485138,680.034424 505.377502,681.702576 
              C507.009644,684.753540 505.098053,686.682922 502.130676,688.206970 
            z`}),e.jsx("path",{fill:"#F9710A",opacity:"1.000000",stroke:"none",d:`
            M430.926880,604.958008 
              C431.179871,600.974854 430.570099,596.933228 432.072937,593.959045 
              C433.326569,591.478027 438.048096,588.177002 439.495758,588.869934 
              C443.189545,590.638062 447.046692,593.890320 448.795319,597.530273 
              C452.883270,606.039978 446.713593,611.755676 441.581451,617.614319 
              C436.436646,614.824768 431.772491,611.790955 430.926880,604.958008 
            z`}),e.jsx("path",{fill:"#F8700A",opacity:"1.000000",stroke:"none",d:`
            M465.004364,689.755127 
              C458.351196,695.019897 454.472748,693.529724 453.205353,685.518555 
              C452.281311,679.677734 454.396698,674.846680 458.372681,670.689514 
              C465.740814,675.210205 468.304962,682.282471 465.004364,689.755127 
            z`}),e.jsx("path",{fill:"#F76F0A",opacity:"1.000000",stroke:"none",d:`
            M513.100098,672.185730 
              C514.191284,668.694031 515.195251,665.605286 516.279297,662.270020 
              C522.455566,666.263245 526.575928,670.905151 525.008789,678.429382 
              C524.245117,682.095764 523.062988,685.738831 518.045227,685.015442 
              C513.308044,684.332520 511.470123,681.638977 512.158142,676.465515 
              C512.331970,675.158447 512.722046,673.880188 513.100098,672.185730 
            z`}),e.jsx("path",{fill:"#270100",opacity:"1.000000",stroke:"none",d:`
            M611.547119,450.745087 
              C575.414246,465.532898 538.835266,440.287292 532.497864,407.732635 
              C528.077454,385.025055 538.640686,361.608459 559.810181,349.278870 
              C570.192871,343.231720 581.020630,338.809235 593.444458,340.826843 
              C594.426819,340.986359 595.410583,341.175964 596.366638,341.447052 
              C597.150391,341.669373 597.893799,342.033997 598.957031,342.455200 
              C598.197327,347.213196 597.179016,351.883087 596.781982,356.605225 
              C596.450562,360.548004 596.460815,364.604401 596.992859,368.518982 
              C598.600464,380.347046 606.680969,388.029694 618.585510,387.863892 
              C626.752075,387.750183 634.894043,385.870728 643.796692,384.680298 
              C649.119446,395.141815 649.225708,406.695892 644.389709,418.314667 
              C638.057373,433.528503 626.664612,443.794861 611.547119,450.745087 
            z`}),e.jsx("path",{fill:"#270100",opacity:"1.000000",stroke:"none",d:`
            M315.057831,472.177673 
              C291.793488,480.784729 267.059906,474.697296 251.390717,456.727448 
              C235.171783,438.127197 231.899155,412.621979 243.030716,391.573792 
              C253.603821,371.581543 277.933228,359.160767 299.012573,362.737579 
              C302.311005,363.297272 303.406067,364.555084 303.643829,367.800171 
              C304.080322,373.758057 304.541138,379.793091 305.880585,385.590637 
              C309.490051,401.213440 317.306488,407.001038 333.293823,406.451477 
              C336.612305,406.337433 340.036743,406.214294 343.195923,405.325867 
              C347.296204,404.172791 348.853333,405.858215 350.033386,409.406555 
              C354.952789,424.199432 351.970917,437.681702 343.305481,450.127808 
              C336.274750,460.225952 326.817322,467.409912 315.057831,472.177673 
            z`})]}),e.jsx("span",{children:"CrunchCat"})]})}),a?e.jsx(dt,{}):e.jsx(ct,{})]})}function xt(){l.useContext(B);const[a,s]=l.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`z-10 absolute top-0 left-0 w-full md:h-[60px] h-[100px] bg-red-500 ${a?"":"-translate-y-full"} transition-all duration-300`,children:[e.jsxs("span",{className:"w-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-sm text-center",children:[" ",e.jsx("strong",{children:"Important Notice:"})," This is a development/testing site and not a finalized product. Data entered here may be lost or deleted without notice. Please do not submit any sensitive or personal information."]}),e.jsx("button",{onClick:()=>s(!1),className:"absolute top-1/2 right-0 transform -translate-x-full -translate-y-1/2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:`mainWrapper ${a?"md:mt-[60px] mt-[100px]":"mt-0"} transition-all duration-300`,children:e.jsxs(ot,{defaultTheme:"light",storageKey:"vite-ui-theme",children:[e.jsx(mt,{}),e.jsx(Is,{children:e.jsx(Ts,{path:"/home",element:e.jsx(rt,{})})})]})})]})}Ss.createRoot(document.getElementById("root")).render(e.jsx(As.StrictMode,{children:e.jsx(_s,{children:e.jsx(Ps,{children:e.jsx(xt,{})})})}));
